<h3>Test: Relative Clauses</h3>

<div class="box-importante">
    <span class="tag tag-importante">TEST - FORMATO EXAMEN B1</span>
    <p>10 preguntas sobre relative clauses. Elige la opcion correcta.</p>
</div>

<div id="testContainer">
    <div class="exercise" data-test="1">
        <div class="exercise-question">
            <p><strong>1.</strong> The people ________ work in this office are very friendly.</p>
        </div>
        <div class="exercise-options">
            <div class="exercise-option" data-correct="false">a) which</div>
            <div class="exercise-option" data-correct="true">b) who</div>
            <div class="exercise-option" data-correct="false">c) whose</div>
            <div class="exercise-option" data-correct="false">d) where</div>
        </div>
    </div>

    <div class="exercise" data-test="2">
        <div class="exercise-question">
            <p><strong>2.</strong> Is this the book ________ you were looking for?</p>
        </div>
        <div class="exercise-options">
            <div class="exercise-option" data-correct="false">a) who</div>
            <div class="exercise-option" data-correct="false">b) whose</div>
            <div class="exercise-option" data-correct="true">c) which</div>
            <div class="exercise-option" data-correct="false">d) where</div>
        </div>
    </div>

    <div class="exercise" data-test="3">
        <div class="exercise-question">
            <p><strong>3.</strong> My brother, ________ lives in Canada, is coming to visit next month.</p>
        </div>
        <div class="exercise-options">
            <div class="exercise-option" data-correct="true">a) who</div>
            <div class="exercise-option" data-correct="false">b) that</div>
            <div class="exercise-option" data-correct="false">c) which</div>
            <div class="exercise-option" data-correct="false">d) whose</div>
        </div>
    </div>

    <div class="exercise" data-test="4">
        <div class="exercise-question">
            <p><strong>4.</strong> She's the actress ________ latest film won an Oscar.</p>
        </div>
        <div class="exercise-options">
            <div class="exercise-option" data-correct="false">a) who</div>
            <div class="exercise-option" data-correct="false">b) which</div>
            <div class="exercise-option" data-correct="false">c) that</div>
            <div class="exercise-option" data-correct="true">d) whose</div>
        </div>
    </div>

    <div class="exercise" data-test="5">
        <div class="exercise-question">
            <p><strong>5.</strong> That's the hospital ________ my daughter was born.</p>
        </div>
        <div class="exercise-options">
            <div class="exercise-option" data-correct="false">a) which</div>
            <div class="exercise-option" data-correct="false">b) that</div>
            <div class="exercise-option" data-correct="true">c) where</div>
            <div class="exercise-option" data-correct="false">d) when</div>
        </div>
    </div>

    <div class="exercise" data-test="6">
        <div class="exercise-question">
            <p><strong>6.</strong> I'll never forget the summer ________ I met my best friend.</p>
        </div>
        <div class="exercise-options">
            <div class="exercise-option" data-correct="false">a) where</div>
            <div class="exercise-option" data-correct="true">b) when</div>
            <div class="exercise-option" data-correct="false">c) which</div>
            <div class="exercise-option" data-correct="false">d) who</div>
        </div>
    </div>

    <div class="exercise" data-test="7">
        <div class="exercise-question">
            <p><strong>7.</strong> The Mona Lisa, ________ is in the Louvre, was painted by Leonardo da Vinci.</p>
        </div>
        <div class="exercise-options">
            <div class="exercise-option" data-correct="false">a) that</div>
            <div class="exercise-option" data-correct="true">b) which</div>
            <div class="exercise-option" data-correct="false">c) who</div>
            <div class="exercise-option" data-correct="false">d) where</div>
        </div>
    </div>

    <div class="exercise" data-test="8">
        <div class="exercise-question">
            <p><strong>8.</strong> "The woman ________ I spoke to was very helpful." Which is NOT correct?</p>
        </div>
        <div class="exercise-options">
            <div class="exercise-option" data-correct="false">a) who</div>
            <div class="exercise-option" data-correct="false">b) that</div>
            <div class="exercise-option" data-correct="true">c) whose</div>
            <div class="exercise-option" data-correct="false">d) (no pronoun)</div>
        </div>
    </div>

    <div class="exercise" data-test="9">
        <div class="exercise-question">
            <p><strong>9.</strong> "The house ________ is on the corner belongs to my aunt." Can we omit the pronoun?</p>
        </div>
        <div class="exercise-options">
            <div class="exercise-option" data-correct="false">a) Yes, because it's the object</div>
            <div class="exercise-option" data-correct="true">b) No, because it's the subject</div>
            <div class="exercise-option" data-correct="false">c) Yes, because it's a defining clause</div>
            <div class="exercise-option" data-correct="false">d) No, because we need commas</div>
        </div>
    </div>

    <div class="exercise" data-test="10">
        <div class="exercise-question">
            <p><strong>10.</strong> Choose the INCORRECT sentence:</p>
        </div>
        <div class="exercise-options">
            <div class="exercise-option" data-correct="false">a) The man who called you is waiting.</div>
            <div class="exercise-option" data-correct="false">b) The car which I bought is red.</div>
            <div class="exercise-option" data-correct="true">c) Paris, that is the capital of France, is beautiful.</div>
            <div class="exercise-option" data-correct="false">d) The day when we met was special.</div>
        </div>
    </div>
</div>

<div class="test-results" id="testResults" style="display: none;">
    <h4>Tu resultado</h4>
    <div class="test-score" id="testScore">0/10</div>
    <p id="testMessage"></p>
    <button class="tab-btn" onclick="location.reload()" style="margin-top: 15px;">Repetir Test</button>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const exercises = document.querySelectorAll('[data-test]');
    let answered = 0, correct = 0;
    exercises.forEach(ex => {
        ex.querySelectorAll('.exercise-option').forEach(opt => {
            opt.addEventListener('click', function() {
                if (ex.classList.contains('answered')) return;
                ex.classList.add('answered');
                answered++;
                if (this.dataset.correct === 'true') { this.classList.add('correct'); correct++; }
                else { this.classList.add('incorrect'); ex.querySelectorAll('.exercise-option').forEach(o => { if (o.dataset.correct === 'true') o.classList.add('correct'); }); }
                if (answered === exercises.length) {
                    const pct = (correct/exercises.length)*100;
                    document.getElementById('testScore').textContent = `${correct}/${exercises.length} (${pct}%)`;
                    document.getElementById('testScore').className = pct >= 90 ? 'test-score excellent' : pct >= 70 ? 'test-score good' : pct >= 50 ? 'test-score needs-work' : 'test-score poor';
                    document.getElementById('testMessage').textContent = pct >= 70 ? 'Good job!' : 'Review the grammar.';
                    document.getElementById('testResults').style.display = 'block';
                }
            });
        });
    });
});
</script>
